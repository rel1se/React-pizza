{"version":3,"file":"static/js/FullPizza.f4c40da8.chunk.js","mappings":"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","sources":["webpack://react-pizza/./src/components/FullPizza/FullPizza.module.scss?52a6","components/FullPizza/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"FullPizza_container__+K+re\",\"pizzaInfo\":\"FullPizza_pizzaInfo__vxSOT\",\"pizzaDetails\":\"FullPizza_pizzaDetails__Ag-IX\",\"pizzaName\":\"FullPizza_pizzaName__CacmI\",\"pizzaPrice\":\"FullPizza_pizzaPrice__lgjlY\",\"feature\":\"FullPizza_feature__XC5KS\",\"featureLeft\":\"FullPizza_featureLeft__l4hfq\",\"featureRight\":\"FullPizza_featureRight__UPFnr\",\"pizzaImage\":\"FullPizza_pizzaImage__k+4vN\"};","import {useParams} from \"react-router\"\r\nimport React from \"react\"\r\nimport axios from \"axios\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport styles from './FullPizza.module.scss'\r\nimport {sizeTypes, typeNames} from \"../PizzaBlock\";\r\nimport {addCartItem} from \"../../redux/slices/cart/slice\";\r\nimport {CartItem} from \"../../redux/slices/cart/types\";\r\nimport {selectCartItemByID} from \"../../redux/slices/cart/selectors\";\r\nimport {FullPizzaSkeleton} from \"./FullPizzaSkeleton\";\r\n\r\n\r\n\r\nconst FullPizza: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const params = useParams()\r\n    const navigate = useNavigate()\r\n    const [pizza, setPizza] = React.useState<{\r\n        imageUrl: string,\r\n        price: number,\r\n        title: string,\r\n        types: number[],\r\n        sizes: number[],\r\n        info: number[]\r\n    }>()\r\n    const [activePizzaType, setActivePizzaType] = React.useState(0)\r\n    const [activePizzaSize, setActivePizzaSize] = React.useState(0)\r\n\r\n    const cartItem = useSelector(selectCartItemByID(params.id!))\r\n\r\n\r\n    React.useEffect(() => {\r\n        async function fetchPizza() {\r\n            try {\r\n                const {data} = await axios.get('https://65212709a4199548356cdcf2.mockapi.io/pizzas/' + params.id)\r\n                setPizza(data)\r\n            } catch (e) {\r\n                alert('Pizza fetch error')\r\n                navigate(\"/\")\r\n            }\r\n        }\r\n\r\n        fetchPizza()\r\n    }, [])\r\n    const addedCount = cartItem ? cartItem.count : 0\r\n\r\n    const onClickAdd = () => {\r\n        const item = {\r\n            ...pizza,\r\n            type: typeNames[activePizzaType],\r\n            size: sizeTypes[activePizzaSize]\r\n        }\r\n        dispatch(addCartItem(item as CartItem))\r\n    }\r\n    if (!pizza) {\r\n        if (window.screen.width > 1250){\r\n            return <FullPizzaSkeleton/>\r\n        }\r\n        return <div>Загрузка...</div>\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.pizzaInfo}>\r\n                <img className={styles.pizzaImage} src={pizza.imageUrl} alt=\"Пицца\"/>\r\n                <div className={styles.pizzaDetails}>\r\n                    <h1 className={styles.pizzaName}>{pizza.title}</h1>\r\n                    <p className={styles.pizzaPrice}>от {pizza.price} ₽</p>\r\n                    <ul className={styles.feature}>\r\n                        <li>\r\n                            <div className={styles.featureLeft}>Энерг. ценность</div>\r\n                            <div className={styles.featureRight}>{pizza.info[0]} ккал</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className={styles.featureLeft}>Белки</div>\r\n                            <div className={styles.featureRight}>{pizza.info[1]} г</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className={styles.featureLeft}>Жиры</div>\r\n                            <div className={styles.featureRight}>{pizza.info[2]} г</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className={styles.featureLeft}>Углеводы</div>\r\n                            <div className={styles.featureRight}>{pizza.info[3]} г</div>\r\n                        </li>\r\n                    </ul>\r\n                    <div className=\"pizza-block__selector\">\r\n                        <ul>\r\n                            {\r\n                                pizza.types.map((typeId) => (\r\n                                    <li key={typeId} onClick={() => setActivePizzaType(typeId)} className={activePizzaType === typeId ? \"active\" : \"\"}>{typeNames[typeId]}</li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                        <ul>\r\n                            {\r\n                                pizza.sizes.map((size, index) => (\r\n                                    <li key={index} onClick={() => setActivePizzaSize(index)} className={activePizzaSize === index ? \"active\" : \"\"}>{size} см.</li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"pizza-block__bottom\">\r\n                        <div onClick={onClickAdd} className=\"button button--outline button--add\">\r\n                            <svg\r\n                                width=\"12\"\r\n                                height=\"12\"\r\n                                viewBox=\"0 0 12 12\"\r\n                                fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                            >\r\n                                <path\r\n                                    d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                                    fill=\"white\"\r\n                                />\r\n                            </svg>\r\n                            <span>Добавить</span>\r\n                            {addedCount > 0 && <i>{addedCount}</i>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FullPizza;"],"names":["dispatch","useDispatch","params","useParams","navigate","useNavigate","_React$useState","React","_React$useState2","_slicedToArray","pizza","setPizza","_React$useState3","_React$useState4","activePizzaType","setActivePizzaType","_React$useState5","_React$useState6","activePizzaSize","setActivePizzaSize","cartItem","useSelector","selectCartItemByID","id","_fetchPizza","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","get","sent","t0","alert","stop","apply","arguments","fetchPizza","addedCount","count","_jsx","className","styles","children","_jsxs","src","imageUrl","alt","title","price","info","types","map","typeId","onClick","typeNames","sizes","size","index","item","_objectSpread","type","sizeTypes","addCartItem","width","height","viewBox","fill","xmlns","d","window","screen","FullPizzaSkeleton"],"sourceRoot":""}